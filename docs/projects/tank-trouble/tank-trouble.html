<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-05-01">
<meta name="description" content="This project is a recreation of the game Tank Trouble! using object-oriented programming concepts.">

<title>Alec Chen - Tank Trouble!</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Alec Chen</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
  <ul>
  <li><a href="#design-rationale" id="toc-design-rationale" class="nav-link active" data-scroll-target="#design-rationale">Design Rationale</a></li>
  <li><a href="#object-oriented-programming-concepts" id="toc-object-oriented-programming-concepts" class="nav-link" data-scroll-target="#object-oriented-programming-concepts">Object-Oriented Programming Concepts</a></li>
  <li><a href="#challenges" id="toc-challenges" class="nav-link" data-scroll-target="#challenges">Challenges</a>
  <ul class="collapse">
  <li><a href="#getting-tank-to-move" id="toc-getting-tank-to-move" class="nav-link" data-scroll-target="#getting-tank-to-move">Getting Tank to Move</a></li>
  <li><a href="#getting-tank-to-shoot" id="toc-getting-tank-to-shoot" class="nav-link" data-scroll-target="#getting-tank-to-shoot">Getting Tank to Shoot</a></li>
  <li><a href="#getting-wall-and-tank-collision" id="toc-getting-wall-and-tank-collision" class="nav-link" data-scroll-target="#getting-wall-and-tank-collision">Getting Wall and Tank Collision</a></li>
  </ul></li>
  <li><a href="#demo" id="toc-demo" class="nav-link" data-scroll-target="#demo">Demo</a></li>
  <li><a href="#known-issues" id="toc-known-issues" class="nav-link" data-scroll-target="#known-issues">Known Issues</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<div class="quarto-about-solana column-body">
  <div class="about-entity">
    <div class="entity-contents">
      <header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Tank Trouble!</h1>
</div>
<div>
  <div class="description">
    <p>This project is a recreation of the game Tank Trouble! using object-oriented programming concepts.</p>
  </div>
</div>
<div class="quarto-title-meta">
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 1, 2023</p>
    </div>
  </div>
  </div>
</header> 
      <div class="about-contents"><main class="content" id="quarto-document-content">

<p>This past spring, two of my classmates at Macalester College (Elisa Avalos and Sydney Ohr) I decided create a replica of the game Tank Trouble for our Object-Oriented Programming and Abstraction class.</p>
<p><strong>About the Game</strong></p>
<p>Tank Trouble is a one versus one game where players navigate a complex maze and fire bullets to destroy the other tank. Each player gets gets five bullets and no reloads. After you shoot, bullets don’t disappear from the screen so be careful! Each time you destroy the other persons tank you get a point and first person to ten points wins!</p>
<p><img src="images/tank.jpg" class="img-fluid"></p>
<section id="design-rationale" class="level2">
<h2 data-anchor-id="design-rationale">Design Rationale</h2>
<p>In the development of Tank Trouble, we have prioritized clarity and organization. At the core of our design is the GameManager, which manages various aspects of the game, including handling collisions between in-game objects, tracking player points, and start and stop screens. The TankTroubleGame class (main) serves as the engine of the game that combines all components of the project. Our MazeManager class is responsible for generating the maze with walls that act as barriers within the game world. Throughout the development process, we committed to making clean and organized code to ensure easier maintenance and debugging of the game.</p>
<p>Here is one of our initial class diagrams:</p>
<p><img src="images/design-flow.png" class="img-fluid"></p>
</section>
<section id="object-oriented-programming-concepts" class="level2">
<h2 data-anchor-id="object-oriented-programming-concepts">Object-Oriented Programming Concepts</h2>
<p>Our team embraced essential object-oriented programming principles to create a well-organized and flexible codebase. We applied the principle of encapsulation by centralizing game management within the GameManager, which promotes data integrity and effective data management. The use of inheritance established a clear hierarchy among game elements, with Wall inheriting from Rectangle, enabling efficient game logic expansion and maintenance. We leveraged the principle of polymorphism to ensure that objects like Walls and Balls share a common interface for collision detection, facilitating code reuse and adaptability.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/inheritance-example.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">inheritance example</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/polymorphism-example.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">polymorphism example</figcaption>
</figure>
</div>
</section>
<section id="challenges" class="level2">
<h2 data-anchor-id="challenges">Challenges</h2>
<section id="getting-tank-to-move" class="level3">
<h3 data-anchor-id="getting-tank-to-move">Getting Tank to Move</h3>
<p>To achieve smooth tank movement in Tank Trouble, a fundamental challenge was converting XY coordinates to polar coordinates. The tanks’ movement is controlled using directional input or angles. These angles are typically represented in polar coordinates, where the direction and distance from a reference point (the tank’s current position) are used to determine the tank’s new position.</p>
<p>By converting XY coordinates to polar coordinates, the game can effectively interpret user input or predefined movement commands. For example, if a player presses a key to move the tank forward, the game can calculate the corresponding polar coordinates (angle and distance) and update the tank’s position accordingly. This conversion simplifies the navigation logic, making it easier to control the tank’s movement and direction within the game’s maze-like environment.</p>
<p><img src="images/coordinate-plane.png" class="img-fluid"></p>
</section>
<section id="getting-tank-to-shoot" class="level3">
<h3 data-anchor-id="getting-tank-to-shoot">Getting Tank to Shoot</h3>
<p>Achieving precise and consistent tank shots in Tank Trouble posed a significant challenge due to disparities between the angle input from the tank and the actual angle at which the ball was fired. Initially, shots would often veer off in unexpected directions, leading to frustration for players (and the developers). To rectify this issue, a meticulous process was undertaken to align the ball’s firing angle with the tank’s cannon orientation.</p>
<p>This process involved extensive testing and experimentation to determine the correct transformation needed to match the tank’s input angle to the ball’s trajectory angle. Spawned lines were used to estimate the ball’s path, enabling developers to fine-tune the transformation process. The breakthrough came in the form of a transformation factor of 1045 * π * (angle given by the tank), which bridged the angle disparity effectively.</p>
<p><img src="images/tank-lines-1.jpg" class="img-fluid" style="width:45.0%"> <img src="images/tank-lines-2.jpg" class="img-fluid" style="width:45.0%"> :::</p>
<p>Additionally, adjustments to the distance (r) at which the ball was spawned from the tank’s center were made through trial and error. This comprehensive approach ensured that tank shots in Tank Trouble were not only accurate but also consistent, allowing players to strategize and engage in thrilling tank battles within the maze environment.</p>
</section>
<section id="getting-wall-and-tank-collision" class="level3">
<h3 data-anchor-id="getting-wall-and-tank-collision">Getting Wall and Tank Collision</h3>
<p>To ensure basic game functionality, we had to develop a reliable collision detection system between the tanks and the walls. To address this, we pinpointed critical locations around the tank to cover the tank’s entire surface: the cannon’s tip and the tank’s four corners.</p>
<p>We methodically evaluated each point along the line connecting these designated reference points. Whenever one of these points intersected with a wall element, we implemented a mechanism to halt vertical tank movement, effectively putting a stop to forward and backward tank motion.</p>
</section>
</section>
<section id="demo" class="level2">
<h2 data-anchor-id="demo">Demo</h2>
<p><img src="images/tank-trouble-begin.gif" class="img-fluid" style="width:45.0%"> <img src="images/tank-trouble-end.gif" class="img-fluid" style="width:45.0%"></p>
</section>
<section id="known-issues" class="level2">
<h2 data-anchor-id="known-issues">Known Issues</h2>
<ul>
<li><p>Corner Glitch: Occasionally, players can exploit a corner glitch where tanks partially overlap walls allowing balls to pass through corners.</p></li>
<li><p>Ball Escape: Rarely, balls fired during gameplay may exit the maze when the canvas resets between rounds, leading to unexpected outcomes.</p></li>
<li><p>Instant Self-Kill: There’s a specific scenario where Player 2 can instantly lose a round if a ball spawns in a particular location.</p></li>
<li><p>Rapid Ball Fire: Shooting a ball during the round transition may result in immediate ball firing, catching players off guard.</p></li>
<li><p>Performance Impact: Having too many balls on-screen, especially during intense moments, may strain the program’s performance, potentially causing crashes or reduced responsiveness.</p></li>
</ul>


</section>
</main></div>
    </div>
  </div>
</div>
 <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>